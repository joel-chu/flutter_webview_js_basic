<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
  </head>
  <body>
    <h1 id="title">Hello World! Awesome!</h1>
    <label>
      msg: 
      <input type="text" name="msg" id="msg" />
    </label>
    
    <button id="trigger">Send message</button>
    
    <script type="text/javascript">
      function fromFlutter(newTitle) {
        // console.log('fromFlutter', newTitle);
        document.getElementById("title").innerHTML = newTitle;
        sendBack('Hello from html');
      }
      // experiement with adding a propery to the flutter object
      FLUTTER_JS_CHANNEL.onmessage = fromFlutter;

      function sendBack(msg) {
        FLUTTER_JS_CHANNEL.postMessage(msg);
      }
      (function() {
        document.getElementById('trigger').addEventListener('click', function(e) {
          e.preventDefault()
          const input = document.getElementById('msg')
          console.log(input.value)
          sendBack(input.value)
        })

      })()
    </script>
  </body>
</html>
